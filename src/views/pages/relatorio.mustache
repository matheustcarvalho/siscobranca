{{>partials/header}}

<div id="page" class="container">
  <div id="page-content">
    <main id="moodle-page" class="clearfix">
      <div id="snap-course-wrapper">
        <div class="row">
          <div class="col-lg-3 etapas-rh">
            <nav id="course-toc" class="js-only">


              <ol id="chapters" style="margin-top:25px; list-style-type:none;" class="chapters list-large">
                <li
                  style=" border: solid 1px; border-color: rgb(207, 204, 204); border-radius: 5px; margin-bottom: 5px; border-left-width: 5px;border-left-color:#2D4E9E;"
                  class="">
                  <a onClick="mostrar('section-0')" id="doc-pessoais"
                    style="margin-left:15px; margin-top:25px; color:rgb(35, 34, 34); text-decoration: none;"
                    class="chapter-title" section-number="0">Gráfico 1
                    <span class="text completionstatus outoftotal">
                      <small style="margin-left: 15px; margin-top: 10px;">

                        <p style="margin-left:15px; margin-top: 10px;"> Relatório de valores recebidos</p>
                      </small>

                    </span>
                  </a>
                </li>

                {{! <li
                  style="border: solid 1px; border-color: rgb(207, 204, 204); border-radius: 5px; margin-bottom: 5px; border-left-width: 5px;border-left-color:#2D4E9E;"
                  class="">
                  <a onClick="mostrar('section-1')" id="dados-pessoais"
                    style="margin-left:15px; color:rgb(35, 34, 34); text-decoration: none;" class="chapter-title"
                    section-number="1">Gráfico 2

                    <span class="text completionstatus outoftotal">

                      <small style="margin-left: 15px;">

                        <p style="margin-left:15px"> Relatório: 2 / 4 </p>
                      </small>
                    </span>
                  </a>
                </li>
                <li
                  style="border: solid 1px; border-color: rgb(207, 204, 204); border-radius: 5px; margin-bottom: 5px; border-left-width: 5px;border-left-color:#2D4E9E;"
                  class="">
                  <a onClick="mostrar('section-2')" id="secao_endereco"
                    style="margin-left:15px; color:rgb(35, 34, 34); text-decoration: none;" class="chapter-title"
                    section-number="2">Gráfico 3

                    <span class="text completionstatus outoftotal">

                      <small style="margin-left: 15px;">

                        <p style="margin-left:15px"> Relatório: 3 / 4 </p>
                      </small>
                    </span>
                  </a>
                </li>
                <li
                  style="border: solid 1px; border-color: rgb(207, 204, 204); border-radius: 5px; margin-bottom: 5px; border-left-width: 5px;border-left-color:#2D4E9E;"
                  class="">
                  <a onClick="mostrar('section-3')" id="dados-banc"
                    style="margin-left:15px; color:rgb(35, 34, 34); text-decoration: none;" class="chapter-title"
                    section-number="3">Gráfico 4

                    <span class="text completionstatus outoftotal">

                      <small style="margin-left: 15px;">

                        <p style="margin-left:15px"> Relatório: 4 / 4 </p>
                      </small>
                    </span>
                  </a>
                </li> }}
                <!-- <li
                  style="border: solid 1px; border-color: rgb(207, 204, 204); border-radius: 5px; margin-bottom: 5px; border-left-width: 5px;border-left-color:#2D4E9E;"
                  class="">
                  <a onClick="mostrar('section-4')" id="dados-vaga"
                    style="margin-left:15px; color:rgb(35, 34, 34); text-decoration: none;" class="chapter-title"
                    section-number="4">Gráfico 5

                    <span class="text completionstatus outoftotal">

                      <small style="margin-left: 15px;">

                        <p style="margin-left:15px"> Relatório: 5 / 5 </p>
                      </small>
                    </span>
                  </a>
                </li> -->
              </ol>
            </nav>
          </div>
          <div class="col-lg-9">
            <section id="region-main" style="margin-top:21px">
              <span class="notifications" id="user-notifications"></span>
              <div id="snap-footer-alert" tabindex="-1">
                <h5 class="snap-footer-alert-title"></h5>

              </div>
              <div name="trilha" role="main"><span id="maincontent"></span>
                <div class="course-content">
                  <ul class="topics" id="admissao">
                    <li id="section-0" class="section main clearfix section-0 hidden" aria-label="Aula 1 "
                      tabindex="-1">
                      <div class="content">
                        <div>
                          <h2
                            style="font-size: 20px; margin:30px; margin-left: -20px; font-size: 22px; color:rgb(84, 83, 83)"
                            class="sectionname">Relatório
                          </h2>
                          <div id="chart">

                          </div>
                        </div>
                      </div>

                    </li>

                    {{! <li id="section-1" class="section main clearfix section-1 hidden" aria-label="Aula 1 "
                      tabindex="-1">
                      <div class="content">
                        <div>
                          <h2
                            style="font-size: 20px; margin:30px; margin-left: -20px; font-size: 22px; color:rgb(84, 83, 83)"
                            class="sectionname">Relatório 2
                          </h2>
                        </div>
                        <div id="chart2"></div>

                      </div>
                    </li>
                    <li id="section-2" class="section main clearfix section-2 hidden"
                      aria-label="-&amp;gt; Fórum de Dúvidas " tabindex="-1">

                      <div class="content">
                        <div>
                          <h2
                            style="font-size: 20px; margin:30px; margin-left: -20px; font-size: 22px; color:rgb(84, 83, 83)"
                            class="sectionname">Relatório 3
                          </h2>
                        </div>
                        <div id="chart3"></div>
                      </div>
                    </li>
                    <li id="section-3" class="section main clearfix section-3 hidden" aria-label="Aula 1" tabindex="-1">
                      <div class="content">
                        <div>
                          <h2
                            style="font-size: 20px; margin:30px; margin-left: -20px; font-size: 22px; color:rgb(84, 83, 83)"
                            class="sectionname">Relatório 4
                          </h2>
                        </div>
                        <div id="chart4">

                        </div>

                      </div>
                    </li>
                    <li id="section-4" class="section main clearfix section-4 hidden" aria-label="Aula 2 "
                      tabindex="-1">
                      <div class="content">
                        <div>
                          <h2
                            style="font-size: 20px; margin:30px; margin-left: -20px; font-size: 22px; color:rgb(84, 83, 83)"
                            class="sectionname">Relatório 5
                          </h2>
                        </div>
                        <div id="chart5">



                        </div>
                      </div>
                    </li> }}
                  </ul>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
  </div>
</div>
</div>

<style>
  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
  }

  .modal-content {
    background-color: #f8d7da;
    color: #721c24;
    padding: 20px;
    border: 1px solid #f5c6cb;
    border-radius: 4px;
    margin: 100px auto;
    max-width: 400px;
  }

  /* Estilos adicionais para centralizar o conteúdo verticalmente */
  .modal-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
  }


  .sectionname {
    margin-top: 10px
  }

  #region-main {
    margin-top: 90px
  }

  .course-content {

    border: solid 1px;
    border-color: rgb(207, 204, 204);
    margin-bottom: 5px;
    border-top-width: 5px;
    border-top-color: #2D4E9E;
    margin: 15px
  }

  .section-0 {
    display: block;
  }

  .section-1 {
    display: none;
  }

  .section-2 {
    display: none;
  }

  .section-3 {
    display: none;
  }

  .section-4 {
    display: none;
  }

  a {
    cursor: pointer;
  }

  div {
    margin-bottom: 15px
  }

  .snap-section-complete {
    display: none;
  }
</style>

<script>
  $(document).ready(function () {

    let url_api = '{{url}}'.replaceAll('&#x2F;', '/');

    function mostrar(id) {
      if (document.getElementById(id).style.display !== "none") {
        document.getElementById(id).style.display = "none";
        return;
      }
      Array.from(document.getElementsByClassName("hidden")).forEach(
        li => (li.style.display = "none")
      );
      document.getElementById(id).style.display = "block";
    };

    function formatMoney(valor) {

      valor = Math.round(parseFloat(valor) * 100) / 100;
      var partes = valor.toFixed(2).split('.');
      var inteiro = partes[0];
      var centavos = partes[1];
      inteiro = inteiro.replace(/\B(?=(\d{3})+(?!\d))/g, '.');
      var valorFormatado = inteiro + ',' + centavos;

      return valorFormatado;
    }

    $.ajax({

      type: 'GET',
      url: `${url_api}/apis/sis-cobranca/total-pagos`,
      dataType: 'json',
      success: function (data) {

        var valorTotal = data.total[0].ValorTotalPago

        var options = {
          series: [{
            name: 'Total Recebido',
            data: [0, 0, 0, 0, formatMoney(valorTotal), 0, 0, 0, 0, 0, 0, 0]
          }],
          chart: {
            height: 350,
            type: 'bar',
          },
          plotOptions: {
            bar: {
              borderRadius: 10,
              dataLabels: {
                position: 'top', // top, center, bottom
              },
            }
          },
          dataLabels: {
            enabled: true,
            formatter: function (val) {
              return "R$ " + val;
            },
            offsetY: -20,
            style: {
              fontSize: '12px',
              colors: ["#304758"]
            }
          },

          xaxis: {
            categories: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
            position: 'top',
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false
            },
            crosshairs: {
              fill: {
                type: 'gradient',
                gradient: {
                  colorFrom: '#D8E3F0',
                  colorTo: '#BED1E6',
                  stops: [0, 100],
                  opacityFrom: 0.4,
                  opacityTo: 0.5,
                }
              }
            },
            tooltip: {
              enabled: true,
            }
          },
          yaxis: {
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false,
            },
            labels: {
              show: false,
              formatter: function (val) {
                return "R$ " + val;
              }
            }

          },
          title: {
            text: 'Valor Total Recebido',
            floating: true,
            offsetY: 330,
            align: 'center',
            style: {
              color: '#444'
            }
          }
        };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();

      }

    });

  });



</script>


{{>partials/footer}}